{
  "type": "vector.function",
  "input_schema": {
    "type": "array",
    "description": "An array of cat photos to be ranked",
    "minItems": 2,
    "maxItems": 100,
    "items": {
      "type": "object",
      "description": "A cat photo with its URL and optional metadata",
      "properties": {
        "url": {
          "type": "string",
          "description": "The URL or file path to the cat photo image"
        },
        "title": {
          "type": "string",
          "description": "An optional title or label for the photo"
        },
        "photographer": {
          "type": "string",
          "description": "An optional credit to the photographer"
        }
      },
      "required": [
        "url"
      ]
    }
  },
  "output_length": {
    "$starlark": "len(input)"
  },
  "input_split": {
    "$starlark": "[[photo] for photo in input]"
  },
  "input_merge": {
    "$starlark": "[photo for subarray in input for photo in subarray]"
  },
  "tasks": [
    {
      "type": "placeholder.vector.function",
      "input_schema": {
        "type": "array",
        "description": "An array of cat photos to be ranked",
        "minItems": 2,
        "maxItems": 100,
        "items": {
          "type": "object",
          "description": "A cat photo with its URL and optional metadata",
          "properties": {
            "url": {
              "type": "string",
              "description": "The URL or file path to the cat photo image"
            },
            "title": {
              "type": "string",
              "description": "An optional title or label for the photo"
            },
            "photographer": {
              "type": "string",
              "description": "An optional credit to the photographer"
            }
          },
          "required": [
            "url"
          ]
        }
      },
      "output_length": {
        "$starlark": "len(input)"
      },
      "input_split": {
        "$starlark": "[[photo] for photo in input]"
      },
      "input_merge": {
        "$starlark": "[photo for subarray in input for photo in subarray]"
      },
      "input": {
        "$starlark": "input"
      },
      "output": {
        "$starlark": "output"
      }
    },
    {
      "type": "placeholder.vector.function",
      "input_schema": {
        "type": "array",
        "description": "An array of cat photos to be ranked",
        "minItems": 2,
        "maxItems": 100,
        "items": {
          "type": "object",
          "description": "A cat photo with its URL and optional metadata",
          "properties": {
            "url": {
              "type": "string",
              "description": "The URL or file path to the cat photo image"
            },
            "title": {
              "type": "string",
              "description": "An optional title or label for the photo"
            },
            "photographer": {
              "type": "string",
              "description": "An optional credit to the photographer"
            }
          },
          "required": [
            "url"
          ]
        }
      },
      "output_length": {
        "$starlark": "len(input)"
      },
      "input_split": {
        "$starlark": "[[photo] for photo in input]"
      },
      "input_merge": {
        "$starlark": "[photo for subarray in input for photo in subarray]"
      },
      "input": {
        "$starlark": "input"
      },
      "output": {
        "$starlark": "output"
      }
    },
    {
      "type": "placeholder.scalar.function",
      "input_schema": {
        "type": "object",
        "description": "A single cat photo with its URL and optional metadata",
        "properties": {
          "url": {
            "type": "string",
            "description": "The URL or file path to the cat photo image"
          },
          "title": {
            "type": "string",
            "description": "An optional title or label for the photo"
          },
          "photographer": {
            "type": "string",
            "description": "An optional credit to the photographer"
          }
        },
        "required": [
          "url"
        ]
      },
      "map": 0,
      "input": {
        "$starlark": "map"
      },
      "output": {
        "$starlark": "[score / sum(output) if sum(output) > 0 else 1.0 / len(output) for score in output]"
      }
    }
  ],
  "input_maps": [
    {
      "$starlark": "[photo for photo in input]"
    }
  ],
  "description": "The rank-cat-photos function evaluates and ranks cat photographs based on charm, composition, technical quality, and authenticity. By analyzing genuine personality, artistic framing, technical clarity, and authentic moments, this function produces a ranked list that identifies the most exceptional cat photographs across all evaluated dimensions."
}